<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Web3MemeFun</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="style.css" />

  <!-- Firebase (compat version for browser) -->
  <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-firestore-compat.js"></script>

  <!-- Telegram SDK (used if opened inside Telegram, ignored in browser) -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <div id="app">

    <header class="header">
      <h1>Web3MemeFun</h1>
      <p id="userId" class="userid">User: loadingâ€¦</p>
      <p id="userBalance" class="balance">Balance: loadingâ€¦</p>
    </header>

    <nav class="tabs">
      <button onclick="openTab('market')">Market</button>
      <button onclick="openTab('create')">Create Token</button>
      <button onclick="openTab('portfolio')">My Tokens</button>
      <button onclick="openTab('daily')">Daily Bonus</button>
    </nav>

    <!-- MARKET TAB -->
    <section id="market" class="tab active">
      <h2>Market</h2>

      <h3 class="section-title">ðŸŸ¢ New launches</h3>
      <div id="marketNew"></div>

      <h3 class="section-title">ðŸŸ¡ Heating up</h3>
      <div id="marketMid"></div>

      <h3 class="section-title">ðŸ”µ Graduated</h3>
      <div id="marketGrad"></div>
    </section>

    <!-- CREATE TAB -->
    <section id="create" class="tab">
      <h2>Create Meme Token</h2>
      <div class="card">
        <label>Name</label>
        <input id="tokenName" placeholder="Example: CATGOD" />

        <label>Ticker</label>
        <input id="tokenTicker" placeholder="CAT" />

        <label>Image URL</label>
        <input id="tokenImg" placeholder="https://image-url.png" />

        <label>Pre-buy (USDT)</label>
        <input id="preBuy" type="number" value="0" />

        <p class="hint">Launch cost: 2000 USDT â€¢ Supply: 1,000,000,000</p>

        <button onclick="createToken()">ðŸš€ Launch Token</button>
      </div>
    </section>

    <!-- PORTFOLIO TAB -->
    <section id="portfolio" class="tab">
      <h2>Your Portfolio</h2>
      <div id="portfolioList"></div>
    </section>

    <!-- DAILY TAB -->
    <section id="daily" class="tab">
      <h2>Daily Bonus</h2>
      <p>Claim 500 USDT once per day.</p>
      <button onclick="claimDaily()">Claim 500 USDT</button>
    </section>

    <!-- TOKEN DETAIL / TRADE PANEL -->
    <div id="tradePanel" class="trade-panel hidden">
      <div class="trade-box">
        <div class="trade-header">
          <img id="tradeImg" class="trade-avatar" src="" alt="">
          <div>
            <h3 id="tradeTitle">Token</h3>
            <p id="tradeStage" class="stage-label"></p>
          </div>
        </div>

        <div class="trade-stats" id="tradeStats"></div>

        <div id="priceChart" class="chart-box"></div>

        <label>Buy amount (USDT)</label>
        <input id="buyAmount" type="number" />

        <button class="buy-btn" onclick="buyToken()">BUY</button>

        <label>Sell amount (% of holdings)</label>
        <input id="sellPercent" type="number" placeholder="e.g. 25" />

        <button class="sell-btn" onclick="sellToken()">SELL</button>

        <button class="close-btn" onclick="closeTrade()">Close</button>
      </div>
    </div>

  </div>

  <script src="app.js"></script>
</body>
</html>
